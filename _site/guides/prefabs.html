<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Dash Docs - Prefabs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- Le styles -->
    <link href="http://circular-studios.github.io/Dash-Docs/assets/css/bootstrap.css" rel="stylesheet" />
    <style>
      /* 60px to make the container go all the way
      to the bottom of the topbar */
      body { padding-top: 60px; }
    </style>
    <link href="http://circular-studios.github.io/Dash-Docs/assets/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="http://circular-studios.github.io/Dash-Docs/assets/css/docs.css" rel="stylesheet" />
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" type="image/png" href="http://circular-studios.github.io/Dash-Docs/assets/img/dash-logo.png" />
  </head>
  <body>
    <!--<a href="https://github.com/driftyco/jetstrap-docs"><img style="position: absolute; z-index: 10000; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>-->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a href="http://circular-studios.github.io/Dash-Docs/" class="brand"><img src="http://circular-studios.github.io/Dash-Docs/assets/img/circular-logo.png"></a>
          <ul class="nav pull-right">
            <li><a href="https://github.com/Circular-Studios/Dash">Dash on GitHub</a></li>
            <li><a href="http://circular-studios.github.io/Dash-Docs/api/latest">API Documentation</a></li>
            <li><a href="http://circularstudios.com">Circular Studios</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="span3">
          <ul id="menu" class="nav nav-list" data-spy="affix">
            <li class="nav-header">DASH DOCS</li>
            <li data-section="index"><a href="http://circular-studios.github.io/Dash-Docs/">Home</a></li>
            <li class="nav-header">GUIDES</li>
            <li data-section="guides/gettingstarted"><a href="http://circular-studios.github.io/Dash-Docs/guides/gettingstarted.html">Getting Started</a></li>
            <li data-section="guides/prefabs"><a href="http://circular-studios.github.io/Dash-Docs/guides/prefabs.html">Prefabs</a></li>
            <li data-section="guides/scripts"><a href="http://circular-studios.github.io/Dash-Docs/guides/scripts.html">Scripts</a></li>
            <li class="nav-header">SCHEMAS</li>
            <li data-section="schemas/objects"><a href="http://circular-studios.github.io/Dash-Docs/schemas/objects.html">Objects</a></li>
            <li data-section="schemas/materials"><a href="http://circular-studios.github.io/Dash-Docs/schemas/materials.html">Materials</a></li>
          </ul>
        </div>
        <div class="span9">
<h1 id="prefabs">Prefabs</h1>
<hr />

<h3 id="writing-a-prefab">Writing a Prefab</h3>

<p>Prefabs are YAML objects which allow you to easily create similar objects
without duplicating code. You can place as many prefabs in a file as you want,
as long as they are separated by a <code>---</code>. They must have a <code>Name</code> field,
and they may have any property that an object definition can have. An example
prefab file may look like this:</p>

<p><code>prefab1.yml</code>
<code>yaml
---
Name: Prefab1
Material: Mat1
Mesh: MyMesh2
PointLight:
    Color: !Vector3 1 1 1
    FalloffRadius: 0.5
    Brightness: 1
---
Name: Prefab2
Mesh: MyMesh37
Material: Mat62
</code></p>

<h3 id="extending-a-prefab-from-yaml">Extending a Prefab from YAML</h3>

<p>Any <code>GameObject</code> defined by YAML can extend a prefab. To do so, simply add an
<code>InstanceOf</code> field to your object definition. Any field defined
in a prefab and an object will be overridden by the object. An example may look
like this:</p>

<p><code>object1.yml</code>
<code>yaml
---
Name: Object1
InstaceOf: Prefab1
---
Name: Object2
InstanceOf: Prefab2
Mesh: MyMesh8
</code></p>

<h3 id="instantiating-a-prefab-from-code">Instantiating a Prefab from Code</h3>

<p>To create an instance of a prefab from inside your D scripts, import
<code>core.prefabs</code> (or just <code>core</code>), and call to
<a href="/api/latest//core/prefabs/Prefab.createInstance.html"><code>Prefab.createInstance</code></a>.
An example script may look like this:</p>

<p><code>d
...
auto newObj = Prefabs["BaseObj"].createInstance();
newObj.addComponent( Assets.get!Mesh( "Mesh62" ) );
...
</code></p>

        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="http://circular-studios.github.io/Dash-Docs/assets/js/bootstrap.js"></script>
    <script>
      $( '#menu [data-section="guides/prefabs"]' ).addClass( 'active' );
    </script>
  </body>
</html>

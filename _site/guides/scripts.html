<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Dash Docs - Scripts</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <!-- Le styles -->
    <link href="http://circular-studios.github.io/Dash-Docs/assets/css/bootstrap.css" rel="stylesheet" />
    <style>
      /* 60px to make the container go all the way
      to the bottom of the topbar */
      body { padding-top: 60px; }
    </style>
    <link href="http://circular-studios.github.io/Dash-Docs/assets/css/bootstrap-responsive.css" rel="stylesheet" />
    <link href="http://circular-studios.github.io/Dash-Docs/assets/css/docs.css" rel="stylesheet" />
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" type="image/png" href="http://circular-studios.github.io/Dash-Docs/assets/img/dash-logo.png" />
  </head>
  <body>
    <!--<a href="https://github.com/driftyco/jetstrap-docs"><img style="position: absolute; z-index: 10000; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>-->
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a href="http://circular-studios.github.io/Dash-Docs/" class="brand"><img src="http://circular-studios.github.io/Dash-Docs/assets/img/circular-logo.png"></a>
          <ul class="nav pull-right">
            <li><a href="https://github.com/Circular-Studios/Dash">Dash on GitHub</a></li>
            <li><a href="http://circular-studios.github.io/Dash-Docs/api/latest">API Documentation</a></li>
            <li><a href="http://circularstudios.com">Circular Studios</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="span3">
          <ul id="menu" class="nav nav-list" data-spy="affix">
            <li class="nav-header">DASH DOCS</li>
            <li data-section="index"><a href="http://circular-studios.github.io/Dash-Docs/">Home</a></li>
            <li class="nav-header">GUIDES</li>
            <li data-section="guides/gettingstarted"><a href="http://circular-studios.github.io/Dash-Docs/guides/gettingstarted.html">Getting Started</a></li>
            <li data-section="guides/prefabs"><a href="http://circular-studios.github.io/Dash-Docs/guides/prefabs.html">Prefabs</a></li>
            <li data-section="guides/scripts"><a href="http://circular-studios.github.io/Dash-Docs/guides/scripts.html">Scripts</a></li>
            <li class="nav-header">SCHEMAS</li>
            <li data-section="schemas/objects"><a href="http://circular-studios.github.io/Dash-Docs/schemas/objects.html">Objects</a></li>
            <li data-section="schemas/materials"><a href="http://circular-studios.github.io/Dash-Docs/schemas/materials.html">Materials</a></li>
          </ul>
        </div>
        <div class="span9">
<h1 id="scripts">Scripts</h1>
<hr />

<h3 id="the-game-script">The Game Script</h3>

<p>You should always have a game script, or a script that is not attached to an
object that controls game state. The class should extend
<a href="/api/latest//core/dgame/DGame.html"><code>DGame</code></a>, and extend any or all
of the following:</p>

<ul>
  <li><a href="/api/latest//core/dgame/DGame.title.html"><code>title</code></a>: The title of the window (for the title bar and taskbar).</li>
  <li><a href="/api/latest//core/dgame/DGame.onInitialize.html"><code>onInitialize</code></a>: Called when the game is starting.</li>
  <li><a href="/api/latest//core/dgame/DGame.onUpdate.html"><code>onUpdate</code></a>: Called every frame on the update cycle.</li>
  <li><a href="/api/latest//core/dgame/DGame.onDraw.html"><code>onDraw</code></a>: Called every frame before rendering.</li>
  <li><a href="/api/latest//core/dgame/DGame.onShutdown.html"><code>onShutdown</code></a>: Called on shutdown.</li>
  <li><a href="/api/latest//core/dgame/DGame.onRefresh.html"><code>onRefresh</code></a>: Called when assets are refreshing.</li>
</ul>

<h3 id="component-scripts">Component Scripts</h3>

<p>Component scripts are any scripts you would want to attach to an object. The
class extend the <a href="/api/latest//components/component/Component.html"><code>Component</code></a>
class. If you want them to be addable through YAML, you should annotate the class
with <a href="/api/latest//components/component/yamlComponent.html"><code>@yamlComponent()</code></a>.
You should also add a mixin of
<a href="/api/latest//components/component/registerComponents.html"><code>registerComponents</code></a>
(with the template parameter being the name of the current module) anywhere in
your scripts, but it is recommended to add it in the module you’re registering.
You should also annotate each member with
<a href="/api/latest//components/component/field.html"><code>@field()</code></a>, with an
optional parameter that is what you want the name of the field to be in the YAML.
The template parameter is the <a href="#loaders">loader</a> you want to use for the parameter,
which overrides the loader (if there is one) for the type of the field.</p>

<p>An example script might look like this:
```d
import dash.components, dash.utility;</p>

<p>@yamlComponent()
class MyComponent : Component
{
    @field()
    float x;
    @field( “Y” )
    float y;</p>

<pre><code>override void initialize()
{
    logNotice( "Initializing!" );
} } ```
</code></pre>

<p>An object definition that uses it might look like this:
<code>yaml
---
Name: Object3
Mesh: MeshX
Material: MaterialY
MyComponent:
    x: 1.0
    Y: 10.2
</code></p>

<div id="loaders" />

<h3 id="loaders">Loaders</h3>

<p>Loaders can be specified on subclasses of <code>YamlObject</code> and
<a href="/api/latest//components/component/field.html"><code>@field()</code></a>s. They
exist so that you may add a field or component to an object that has already
been created. A good example is <a href="/api/latest//components/mesh/Mesh.html"><code>Mesh</code></a>es,
which rely on loaders because they are not created from YAML, but instead from
files. They’re annotation looks something like this:
<code>d
@yamlComponent!( q{name =&gt; Assets.get!Mesh( name )} )()
class Mesh : Asset { ... }
</code></p>

        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="http://circular-studios.github.io/Dash-Docs/assets/js/bootstrap.js"></script>
    <script>
      $( '#menu [data-section="guides/scripts"]' ).addClass( 'active' );
    </script>
  </body>
</html>
